<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.poc.mapper.EsbRcptMsgPreambleMapper">
    <resultMap id="esbRcptPreambleModel" type="com.example.poc.model.EsbRcptMsgPreambleModel">
        <result column="hjs_parent_id" property="hjsParentId"/>
        <result column="hjs_node_id" property="hjsNodeId"/>
        <result column="hjs_sequence" property="hjsSequence"/>
        <result column="hjs_error_number" property="hjsErrorNumber"/>
        <result column="hjs_error_message" property="hjsErrorMessage"/>
        <result column="msg_preamble" property="msgPreamble"/>
        <result column="sender" property="sender"/>
        <result column="receiver" property="receiver"/>
        <result column="message_type" property="messageType"/>
        <result column="message_version" property="messageVersion"/>
        <result column="message_date" property="messageDate"/>
        <result column="message_id" property="messageId"/>
    </resultMap>

    <insert id="insert" parameterType="com.example.poc.model.EsbRcptMsgPreambleModel">
        <selectKey keyProperty="hjsParentId" order="BEFORE" resultType="java.lang.String">
            SELECT newId()
        </selectKey>
        <selectKey keyProperty="hjsNodeId" order="BEFORE" resultType="java.lang.String">
            SELECT newId()
        </selectKey>
        INSERT INTO tbl_ESB_RCPT_MSGPREAMBLE (
        hjs_parent_id, hjs_node_id, hjs_sequence, hjs_error_number, hjs_error_message,
        msg_preamble, sender, receiver, message_type, message_version, message_date, message_id
        ) VALUES (
        #{hjsParentId}, #{hjsNodeId}, #{hjsSequence}, #{hjsErrorNumber}, #{hjsErrorMessage},
        #{msgPreamble}, #{sender}, #{receiver}, #{messageType}, #{messageVersion}, #{messageDate}, #{messageId})
    </insert>
</mapper>