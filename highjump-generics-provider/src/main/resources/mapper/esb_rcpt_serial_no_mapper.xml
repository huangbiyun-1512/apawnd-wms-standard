<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.maersk.highjump.generics.mapper.EsbRcptSerialNoMapper">
    <resultMap id="esbRcptSerialNoModel" type="com.maersk.highjump.generics.model.EsbRcptSerialNoModel">
        <result column="hjs_parent_id" property="hjsParentId"/>
        <result column="hjs_node_id" property="hjsNodeId"/>
        <result column="hjs_sequence" property="hjsSequence"/>
        <result column="hjs_error_number" property="hjsErrorNumber"/>
        <result column="hjs_error_message" property="hjsErrorMessage"/>
        <result column="serial_no" property="serialNo"/>
    </resultMap>

    <insert id="insert" parameterType="com.maersk.highjump.generics.model.EsbRcptSerialNoModel">
        <selectKey keyProperty="hjsNodeId" order="BEFORE" resultType="java.lang.String">
            SELECT newId()
        </selectKey>
        INSERT INTO tbl_ESB_RCPT_SERIALNO (
        hjs_parent_id, hjs_node_id, hjs_sequence, hjs_error_number, hjs_error_message, serial_no
        ) VALUES (
        #{hjsParentId}, #{hjsNodeId}, #{hjsSequence}, #{hjsErrorNumber}, #{hjsErrorMessage}, #{serialNo})
    </insert>
</mapper>